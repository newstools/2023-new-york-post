A would-be thief pistol-whipped a man during an attempted robbery in Harlem on Saturday before shooting himself when a struggle ensued, police said. James Henderson, 59, whacked a 57-year-old man in the head with a firearm and demanded his property outside 2430 Adam Clayton Powell Jr. Blvd. and West 142nd Street around 2:40 p.m., police said. “A struggle ensued for the firearm, and then a shot was fired” and Henderson was struck in the right hand, according to police. Henderson walked into Harlem Hospital where police took him into custody. He is charged with attempted robbery, assault, criminal possession of a weapon and possession of a controlled substance, police said. The victim also went to Harlem Hospital for observation, cops said.